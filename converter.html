<!--- Takes a obj and converts it to a more readable format. Make sure model is triangulated --->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        function convertObj(obj) {
            let lines = obj.split('\n');
            let output = '';

            for (let line of lines) {
                const split = line.split(' ')
                let instruction = split[0];
                split.shift()
                let data = split.join(' ');

                if (instruction == 'v') {
                    let verts = data.split(' ');
                    verts.forEach(vertexValue => {
                        vertexValue = parseFloat(vertexValue);
                        vertexValue *= 10;
                        vertexValue = Math.trunc(vertexValue);
                        output += vertexValue.toString() + ',';
                    });
                  //  output += data.split(' ').join(',');
                }

                if (instruction == 'f') {
                    if (output.indexOf(':') == -1)
                        output += ':';
                    output += data.split(' ').map(input => input.split('/')[0]).join(',') + ';';
                }
            }
            output = output.replace(",:",":");

            return output;
        }


        console.log(JSON.stringify(convertObj(`# Blender 4.2.1 LTS
# www.blender.org
mtllib base.mtl
o base
v -7.885267 -1.178010 4.808597
v -6.985267 1.821990 4.018119
v 2.795489 1.821990 3.875421
v 7.895489 -1.178010 4.929090
v 6.995489 1.821990 4.018120
v -2.418690 4.024040 3.274042
v 2.405504 4.024040 3.274042
v -2.785267 1.821990 4.033612
v 1.895489 -1.178010 -3.345484
v -1.885267 -1.178010 -3.431509
v -2.418689 4.024040 -1.555110
v 2.405504 4.024040 -1.555110
v 2.795489 1.821990 -2.317800
v -2.785267 1.821990 -2.440811
v -1.885267 -1.178010 -5.169777
v -7.885267 -1.178010 -5.169777
v -6.985267 1.821990 -3.369777
v -2.785267 1.821990 -3.369777
v 7.895489 -1.178010 -5.169776
v 1.895489 -1.178010 -5.169777
v 2.795489 1.821990 -3.369777
v 6.995489 1.821990 -3.369777
v -1.494036 3.001169 -1.900360
v 1.491884 3.011339 -1.929135
v -1.682410 1.880352 -2.400763
v 1.690931 1.885691 -2.314735
v -6.309195 -0.130201 -4.541092
v -6.037881 0.774181 -3.998462
v -3.461339 -0.130201 -4.541091
v -3.732653 0.774181 -3.998463
v 3.450987 -0.143879 -4.549299
v 3.730509 0.787860 -3.990255
v 6.339991 -0.143879 -4.549298
v 6.060471 0.787859 -3.990255
vn -0.9578 0.2873 -0.0000
vn -0.9864 0.1642 -0.0000
vn -0.0000 1.0000 -0.0000
vn 0.9578 0.2873 -0.0000
vn 0.9847 0.1744 -0.0000
vn -0.0000 -1.0000 -0.0000
vn -0.0000 0.5145 -0.8575
vn 0.0166 0.3332 -0.9427
vn -0.0001 0.2872 0.9579
vn 0.0075 0.3669 -0.9302
vt 0.375000 0.750000
vt 0.625000 0.750000
vt 0.625000 1.000000
vt 0.375000 1.000000
vt 0.875000 0.750000
vt 0.849613 0.500000
vt 0.654661 0.500000
vt 0.875000 0.500000
vt 0.375000 0.250000
vt 0.625000 0.250000
vt 0.625000 0.500000
vt 0.375000 0.500000
vt 0.843691 0.750000
vt 0.500000 1.000000
vt 0.519012 0.250000
vt 0.512261 0.044090
vt 0.572168 0.051042
vt 0.575305 0.199127
vt 0.521120 0.206168
vt 0.462317 0.058719
vt 0.537683 0.064084
vt 0.537683 0.185916
vt 0.462317 0.191281
vt 0.461178 0.057885
vt 0.538822 0.063319
vt 0.538822 0.186681
vt 0.461178 0.192115
s 0
f 1/1/1 2/2/1 17/3/1 16/4/1
f 6/2/2 11/5/2 14/6/2 8/7/2
f 8/7/3 14/6/3 18/8/3 17/5/3 2/2/3
f 19/9/4 22/10/4 5/11/4 4/12/4
f 3/2/5 13/13/5 12/10/5 7/11/5
f 5/11/3 22/8/3 21/5/3 13/13/3 3/2/3
f 15/9/6 10/4/6 9/9/6 20/4/6 19/9/6 4/12/6 1/1/6 16/4/6
f 7/11/3 12/8/3 11/5/3 6/2/3
f 19/9/7 20/4/7 21/5/7 22/10/7
f 15/9/7 16/4/7 17/5/7 18/10/7
f 9/9/8 10/4/8 14/14/8 11/5/8 12/10/8 13/15/8
f 1/1/9 4/12/9 5/11/9 3/2/9 7/11/9 6/2/9 8/7/9 2/2/9
f 20/4/1 9/9/1 13/15/1 21/5/1
f 18/8/4 14/6/4 10/4/4 15/9/4
f 25/16/10 23/17/10 24/18/10 26/19/10
f 27/20/7 28/21/7 30/22/7 29/23/7
f 31/24/7 32/25/7 34/26/7 33/27/7
`)));

    </script>
</body>

</html>